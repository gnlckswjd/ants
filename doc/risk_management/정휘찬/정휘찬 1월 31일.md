# 정휘찬

날짜: 2023년 1월 31일
느낀점: 멀티스레드 환경에서 공유변수를 사용할 때 락을 사용하지 않고
로직을 변경하여 문제 자체를 해결할 수 있다는 사실을 몸으로 직접 느꼈다.
개발 경험이 많을 수록 로직을 걸맞게 작성할 수 있겠지만
개발 중 Lock을 사용할 때 다른 접근법은 없는지 검토해 보는 것이 좋겠다.
발생 위치: 게임서버
발생이유: RoomManager 클래스에서 _rooms 변수를 접근할 때도 LOCK을 걸고
그 상태에서 Room의 _users변수에 접근해서 이중으로 LCOK이 걸림
위험도: 7
위험정의: 멀티스레드에서 동기화를 위해 락을 사용할 때  성능이 저하될 수 있음
위험코드: T - 10
해결방법: RoomManager 클래스에서 GetRoomByID 함수를 만들어 Room* 변수를 얻는다.
그 뒤에 Room* 변수로 _users에 접근한다.

방을 찾을 때만 락을 쓴다. 찾으면 포인터를 반환하게 해서 공유 변수에 접근할 필요 없이 (동기화 없이) 사용
해결여부: 해결